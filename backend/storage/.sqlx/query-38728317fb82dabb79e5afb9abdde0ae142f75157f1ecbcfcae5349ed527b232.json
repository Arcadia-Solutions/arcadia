{
  "db_name": "PostgreSQL",
  "query": "\n            SELECT\n                JSON_AGG(\n                    JSON_BUILD_OBJECT(\n                        'id', p.id,\n                        'content', p.content,\n                        'created_at', p.created_at,\n                        'updated_at', p.updated_at,\n                        'sticky', p.sticky,\n                        'forum_thread_id', p.forum_thread_id,\n                        'created_by', JSON_BUILD_OBJECT(\n                            'id', p.user_id,\n                            'username', p.username,\n                            'avatar', p.avatar,\n                            'banned', p.banned,\n                            'warned', p.warned\n                        )\n                    )\n                    ORDER BY p.created_at ASC\n                ) AS thread_data,\n                (SELECT COUNT(*) FROM forum_posts WHERE forum_thread_id = $1) AS total_items\n            FROM (\n                SELECT\n                    fp.id,\n                    fp.content,\n                    fp.created_at,\n                    fp.updated_at,\n                    fp.sticky,\n                    fp.forum_thread_id,\n                    u.id AS user_id,\n                    u.username,\n                    u.avatar,\n                    u.banned,\n                    u.warned\n                FROM forum_posts fp\n                JOIN users u ON fp.created_by_id = u.id\n                WHERE fp.forum_thread_id = $1\n                ORDER BY fp.created_at ASC\n                OFFSET $2\n                LIMIT $3\n            ) p;\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "thread_data",
        "type_info": "Json"
      },
      {
        "ordinal": 1,
        "name": "total_items",
        "type_info": "Int8"
      }
    ],
    "parameters": {
      "Left": [
        "Int8",
        "Int8",
        "Int8"
      ]
    },
    "nullable": [
      null,
      null
    ]
  },
  "hash": "38728317fb82dabb79e5afb9abdde0ae142f75157f1ecbcfcae5349ed527b232"
}
