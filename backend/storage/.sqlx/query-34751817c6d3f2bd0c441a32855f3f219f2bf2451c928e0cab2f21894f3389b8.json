{
  "db_name": "PostgreSQL",
  "query": "\n            SELECT tgh.torrent_id AS \"torrent_id!\",\n                   tgh.edition_group_id AS \"edition_group_id!\",\n                   tgh.title_group_id AS \"title_group_id!\"\n            FROM title_group_hierarchy_lite tgh\n            INNER JOIN torrent_activities ta ON ta.torrent_id = tgh.torrent_id\n            WHERE ta.user_id = $1\n              AND tgh.torrent_id IS NOT NULL\n              AND ($4::BOOLEAN OR EXISTS (\n                  SELECT 1 FROM peers p\n                  WHERE p.torrent_id = tgh.torrent_id\n                    AND p.user_id = $1\n                    AND p.seeder = true\n                    AND p.active = true\n              ))\n            ORDER BY\n                CASE WHEN $5 = 'grabbed_at' AND $6 = 'asc' THEN ta.grabbed_at END ASC NULLS LAST,\n                CASE WHEN $5 = 'grabbed_at' AND $6 = 'desc' THEN ta.grabbed_at END DESC NULLS LAST,\n                CASE WHEN $5 = 'total_seed_time' AND $6 = 'asc' THEN ta.total_seed_time END ASC,\n                CASE WHEN $5 = 'total_seed_time' AND $6 = 'desc' THEN ta.total_seed_time END DESC,\n                CASE WHEN $5 = 'uploaded' AND $6 = 'asc' THEN ta.uploaded END ASC,\n                CASE WHEN $5 = 'uploaded' AND $6 = 'desc' THEN ta.uploaded END DESC,\n                CASE WHEN $5 = 'downloaded' AND $6 = 'asc' THEN ta.downloaded END ASC,\n                CASE WHEN $5 = 'downloaded' AND $6 = 'desc' THEN ta.downloaded END DESC,\n                CASE WHEN $5 = 'torrent_size' AND $6 = 'asc' THEN tgh.torrent_size END ASC,\n                CASE WHEN $5 = 'torrent_size' AND $6 = 'desc' THEN tgh.torrent_size END DESC,\n                CASE WHEN $5 = 'torrent_seeders' AND $6 = 'asc' THEN tgh.torrent_seeders END ASC,\n                CASE WHEN $5 = 'torrent_seeders' AND $6 = 'desc' THEN tgh.torrent_seeders END DESC,\n                ta.grabbed_at DESC NULLS LAST\n            LIMIT $2 OFFSET $3\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "torrent_id!",
        "type_info": "Int4"
      },
      {
        "ordinal": 1,
        "name": "edition_group_id!",
        "type_info": "Int4"
      },
      {
        "ordinal": 2,
        "name": "title_group_id!",
        "type_info": "Int4"
      }
    ],
    "parameters": {
      "Left": [
        "Int4",
        "Int8",
        "Int8",
        "Bool",
        "Text",
        "Text"
      ]
    },
    "nullable": [
      true,
      true,
      true
    ]
  },
  "hash": "34751817c6d3f2bd0c441a32855f3f219f2bf2451c928e0cab2f21894f3389b8"
}
