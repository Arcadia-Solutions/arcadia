{
  "db_name": "PostgreSQL",
  "query": "\n            WITH upsert AS (\n                INSERT INTO forum_thread_reads (user_id, forum_thread_id, last_read_post_id)\n                VALUES ($1, $2, $3)\n                ON CONFLICT (user_id, forum_thread_id)\n                DO UPDATE SET last_read_post_id = GREATEST(forum_thread_reads.last_read_post_id, $3),\n                              read_at = NOW()\n                RETURNING (xmax = 0) AS is_insert\n            )\n            UPDATE forum_threads SET views_count = views_count + 1\n            WHERE id = $2 AND (SELECT is_insert FROM upsert)\n            ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Int4",
        "Int8",
        "Int8"
      ]
    },
    "nullable": []
  },
  "hash": "bd0e41d86a4b3d7943ac2fc608c8e83f671750de3613a933c99a7ca92629603c"
}
